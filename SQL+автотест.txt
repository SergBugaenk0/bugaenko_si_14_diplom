
Сергей Бугаенко, 14 когорта - финальный проект. Инженер по тестированию плюс.

Добрый день!
Записал последовательность команд для терминала, так же приложил в репозиторий скрины выполнения
(в том числе скрин содержащий все поля базы Orders: SELECT * FROM "Orders";)

Как оказалось, ошибки возникают нет только с названиями баз с большими буквами,
но и с названиями полей если в них есть большие буквы (мера борьбы - берем в кавычки,
как и написано в рекомендациях)

Команды которые потребовалось ввести для доступа к базе данных:

 ssh 0fe887c9-5b05-47c4-8bfd-c6c898dab0ba@serverhub.praktikum-services.ru -p 4554
psql -U morty -d scooter_rent
smith


Задание №1

Выведи список логинов курьеров с количеством их заказов в статусе «В доставке» (поле inDelivery = true). 

Пояснение к выполнению: если принимаешь заказ - он задваивается, 
и в базе их соответственно становится в два раза больше,
так же для второго задания были созданы и приняты, а затем "выполнены" заказы.
Их статус в поле inDelivery не изменился, поэтому они тоже вошли в количество заказов первого задания.
Это можно увидеть на скрине базы Orders на момент выполнения задания. 

Результат: объединяем базы, выводим на экран
Запрос:

SELECT c.login AS CourierLogin, COUNT(o.id) AS NumberOfOrdersInDelivery 
FROM "Couriers" c 
JOIN "Orders" o ON c.id = o."courierId"
WHERE o."inDelivery" = true
GROUP BY c.login;


Задание №2

Ты тестируешь статусы заказов. Нужно убедиться, что в базе данных они записываются корректно.
Для этого: выведи все трекеры заказов и их статусы. 
Статусы определяются по следующему правилу:
Если поле finished == true, то вывести статус 2.
Если поле canсelled == true, то вывести статус -1.
Если поле inDelivery == true, то вывести статус 1.
Для остальных случаев вывести 0.

Запрос: 

SELECT 
    track,
    CASE
        WHEN finished = true THEN 2
        WHEN cancelled = true THEN -1
        WHEN "inDelivery" = true THEN 1
        ELSE 0
    END AS status
FROM "Orders";